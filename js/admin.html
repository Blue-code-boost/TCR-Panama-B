<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin TCR Panamá</title>
  <link rel="stylesheet" href="style-admin.css">
</head>
<body>
  <header>
    <h1>Administración TCR Panamá</h1>
    <nav>
      <ul>
        <li><a href="#teams">Equipos</a></li>
        <li><a href="#events">Eventos</a></li>
        <li><a href="#news">Noticias</a></li>
        <li><a href="#gallery-admin">Galería</a></li>
        <li><a href="#info-admin">info</a></li>
        <li><a href="#positions-admin">Posiciones</a></li>
        <li><a href="#blog-admin">Blog</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- Sección Equipos -->
    <section id="teams">
      <h2>Gestionar Equipos</h2>

      <!-- Formulario individual -->
      <form id="team-form">
        <input type="hidden" id="team-id">
        <input type="text" id="team-name" placeholder="Nombre del equipo" required>
        <input type="text" id="team-pilots" placeholder="Pilotos (separados por comas)" required>
        <input type="number" id="team-position" placeholder="Posición" required>
        <button type="submit" id="team-submit-btn">Crear Equipo</button>
      </form>

      <!-- Descargar plantilla y carga masiva -->
      <div class="bulk-upload">
        <h3>Plantilla de Excel</h3>
        <a href="templates/teams_template.xlsx" download class="download-btn">Descargar Plantilla</a>

        <h3>Carga Masiva de Equipos</h3>
        <input type="file" id="excel-file" accept=".xlsx, .xls">
        <button id="bulk-upload-btn" type="button">Importar desde Excel</button>
        <p id="bulk-status"></p>
      </div>
      <ul id="teams-list"></ul>
    </section>

    <section id="events">
  <h2>Gestionar Eventos</h2>

  <form id="event-form">
    <input type="hidden" id="event-id" value="">
    <input type="text"   id="event-name"     placeholder="Nombre del evento" required>
    <input type="date"   id="event-date"     required>
    <input type="text"   id="event-location" placeholder="Ubicación" required>
    <button type="submit" id="event-submit-btn">Crear Evento</button>
  </form>

  <div class="bulk-upload">
    <h3>Plantilla de Eventos</h3>
    <a href="/templates/events_template.xlsx" download class="download-btn">Descargar Plantilla de Eventos</a>

    <h3>Carga Masiva de Eventos</h3>
    <input type="file" id="events-excel" accept=".xlsx, .xls">
    <button id="bulk-events-btn" type="button">Importar Eventos desde Excel</button>
    <p id="bulk-events-status"></p>
  </div>

  <ul id="events-list"></ul>
</section>

    
 <section id="news">
  <h2>Gestionar Noticias</h2>

  <form id="news-form">
    <input type="hidden" id="news-id" value="">
    <input type="text"   id="news-title"   placeholder="Título de la noticia" required>
    <input type="date"   id="news-date"    required>
    <textarea id="news-content" placeholder="Contenido" rows="3" required></textarea>
    <button type="submit" id="news-submit-btn">Crear Noticia</button>
  </form>

  <div class="bulk-upload">
    <h3>Plantilla de Noticias</h3>
    <a href="/templates/news_template.xlsx" download class="download-btn">Descargar Plantilla de Noticias</a>

    <h3>Carga Masiva de Noticias</h3>
    <input type="file" id="news-excel" accept=".xlsx, .xls">
    <button id="bulk-news-btn" type="button">Importar Noticias desde Excel</button>
    <p id="bulk-news-status"></p>
  </div>

  <ul id="news-list"></ul>
</section>

<section id="gallery-admin">
  <h2>Gestionar Galería</h2>

  <form id="gallery-form" enctype="multipart/form-data">
    <input type="file" id="gallery-image" accept="image/*" required>
    <input type="text" id="gallery-caption" placeholder="Descripción (caption)">
    <button type="submit" id="gallery-submit-btn">Subir Imagen</button>
  </form>

  <ul id="gallery-list"></ul>
</section>

<section id="info-admin">
  <h2>Gestionar Secciones “Info”</h2>

  <form id="info-form">
    <input type="hidden" id="info-id" value="">
    <input type="text"   id="info-title"   placeholder="Título del bloque" required>
    <textarea           id="info-content" placeholder="Contenido" rows="3" required></textarea>
    <button type="submit" id="info-submit-btn">Crear / Actualizar</button>
  </form>

  <ul id="info-list"></ul>
</section>

<section id="positions-admin">
  <h2>Gestionar Posiciones</h2>

  <form id="positions-form">
    <input type="hidden" id="pos-id">
    <input type="number" id="pos-number" placeholder="Posición" required>
    <input type="text"   id="pos-pilot"  placeholder="Piloto"   required>
    <input type="text"   id="pos-team"   placeholder="Equipo"   required>
    <input type="number" id="pos-points" placeholder="Puntos Obtenidos" required>
    <button type="submit" id="pos-submit-btn">Crear / Actualizar</button>
  </form>

  <ul id="positions-list"></ul>

   <!-- Carga masiva -->
    <div class="bulk-upload" id="positions-bulk-upload">
      <h3>Carga Masiva de Posiciones</h3>
      <a href="templates/positions_template.xlsx"
         class="download-btn"
         download="positions_template.xlsx">
        Descargar Plantilla
      </a>
      <input type="file" id="bulk-positions-file" accept=".xlsx,.xls" />
      <button id="bulk-positions-btn">Importar Posiciones</button>
      <p id="bulk-positions-status"></p>
    </div>

    <!-- Lista de posiciones -->
    <ul id="positions-list"></ul>
</section>

<section id="results-admin">
  <h2>Gestionar Resultados por Fecha</h2>

  <form id="results-form">
    <input type="hidden" id="res-id">
    <input type="text"   id="res-event" placeholder="Nombre del Evento" required>
    <input type="date"   id="res-date"  required>
    <input type="text"   id="res-first"  placeholder="1er Lugar"  required>
    <input type="text"   id="res-second" placeholder="2do Lugar" required>
    <input type="text"   id="res-third"  placeholder="3er Lugar"  required>
    <button type="submit" id="res-submit-btn">Crear / Actualizar</button>
  </form>

  <ul id="results-list"></ul>
</section>
<section id="blog-admin">
  <h2>Gestionar Entradas de Blog</h2>

  <form id="blog-form" enctype="multipart/form-data">
    <input type="hidden" id="blog-id">
    <input type="text"   id="blog-title"   placeholder="Título" required>
    <input type="date"   id="blog-date"    required>
    <!-- Barra de herramientas sencilla -->
<div id="blog-toolbar">
  <button type="button" data-cmd="bold"><b>B</b></button>
  <button type="button" data-cmd="italic"><i>I</i></button>
  <button type="button" data-cmd="underline"><u>U</u></button>
  <button type="button" data-cmd="justifyLeft">⬅️</button>
  <button type="button" data-cmd="justifyCenter">↔️</button>
  <button type="button" data-cmd="justifyRight">➡️</button>
  <button type="button" data-cmd="insertUnorderedList">• List</button>
</div>

<!-- Área editable -->
<div id="blog-content-editor"
     contenteditable="true"
     style="min-height:120px; border:1px solid #ccc; padding:0.5rem; border-radius:4px;">
</div>

<!-- Campo oculto que usaremos para enviar el HTML al servidor -->
<input type="hidden" id="blog-content" name="content">

    <!-- permite múltiples: name debe coincidir con multer.array -->
    <input type="file"   id="blog-images"  name="images" accept="image/*" multiple>
    <button type="submit" id="blog-submit-btn">Crear / Actualizar</button>
  </form>

  <ul id="blog-list"></ul>
</section>


  </main>

  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  <script src="admin.js"></script>
</body>
</html>